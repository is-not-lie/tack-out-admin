# 美团外卖项目服务器接口文档

## 用户模块接口

### 用户登录

- 请求接口: http://localhost:4000/api/user/login

- 请求方式: post

- 请求参数:
  
  | 字段     | 描述     | 类型   | 选项 |
  | -------- | -------- | ------ | ---- |
  | phone    | 手机号码 | string | 必须 |
  | password | 密码     | string | 可选 |
  
- 返回示例:

      ```
      {
        "status": 200,
        "data": {
          "avatar_url": "http://localhost:4000/images/default.png",
          "authority": 3,
          "orderList": [],
          "_id": "5f6dd2b6d9d39b10382238b8",
          "userName": "admin",
          "phone": "13333333333",
          "__v": 0,
          "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpZCI6IjVmNmRkMmI2ZDlkMzliMTAzODIyMzhiOCIsImlhdCI6MTYwMTUzMTg4MCwiZXhwIjoxNjA0MTIzODgwfQ.3shAYyP641oF_-OXk7sjiwufUPzN9yJRuJhrwBb3FSw"
        }
      }
      ```

### 用户注册

- 请求接口: http://localhost:4000/api/user/singin

- 请求方式: post

- 请求参数:

  | 字段             | 描述         | 类型   | 选项 |
  | ---------------- | ------------ | ------ | ---- |
  | phone            | 手机号       | string | 必须 |
  | userName         | 用户名       | string | 可选 |
  | password         | 密码         | string | 可选 |
  | avatar_url       | 用户头像url  | string | 可选 |
  | shipping_address | 用户收获地址 | string | 可选 |

- 返回示例:

      ```
      {
        "status": 200,
        "data": {
          "avatar_url": "http://localhost:4000/images/default.png",
          "authority": 0,
          "orderList": [],
          "_id": "5f75741e469a8a320885b62a",
          "password": "123456789",
          "userName": "13578965644",
          "phone": "13578965644",
          "__v": 0
        }
      }
      ```

### 获取一次性验证码

- 请求接口:  http://localhost:4000/api/captcha

- 请求方式: get

- 请求参数:  无

- 返回示例:

      ```
      {
        "status": 200,
        "data": {
            "text": "MEG3",
            "data": "<svg xmlns=\"http://www.w3.org/2000/svg\" width=\"100\" height=\"40\" viewBox=\"0,0,100,40\"><rect width=\"100%\" height=\"100%\" fill=\"#FFD161\"/><path fill=\"#484b55\" d=\"M31.35 12.38L31.26 12.29L31.27 12.30Q34.14 14.28 37.54 14.44L37.45 14.35L37.53 14.42Q40.67 14.39 43.72 13.14L43.84 13.26L43.72 13.14Q43.72 13.71 43.17 15.69L43.11 15.63L43.05 15.57Q41.20 16.41 39.08 16.52L39.09 16.54L38.99 16.43Q36.91 16.58 34.84 16.06L34.80 16.02L34.83 16.06Q35.22 18.54 35.36 21.15L35.35 21.14L35.45 21.24Q36.96 21.48 38.11 21.45L37.96 21.30L38.10 21.44Q38.90 21.37 40.61 21.29L40.68 21.35L40.67 21.35Q40.65 21.82 40.65 22.31L40.49 22.14L40.66 23.27L40.59 23.20Q38.81 23.13 35.38 23.19L35.39 23.19L35.44 23.24Q35.52 26.26 35.11 29.11L35.06 29.06L34.96 28.96Q36.85 28.52 38.81 28.60L38.95 28.73L38.92 28.70Q40.81 28.72 42.66 29.32L42.59 29.25L42.63 29.29Q42.66 29.83 42.85 30.38L42.95 30.48L43.15 31.44L43.22 31.52Q40.98 30.63 38.54 30.63L38.48 30.58L38.49 30.58Q35.04 30.62 31.99 32.22L31.92 32.15L31.88 32.11Q33.58 27.28 33.39 22.19L33.45 22.25L33.49 22.30Q33.29 17.18 31.39 12.42ZM31.63 32.73L31.57 32.66L31.59 32.69Q32.44 32.13 32.99 31.88L33.12 32.02L33.00 31.90Q33.00 32.57 32.59 33.66L32.46 33.53L32.56 33.63Q35.67 32.09 39.28 32.28L39.34 32.34L39.38 32.37Q42.95 32.47 45.81 34.40L45.84 34.43L45.94 34.53Q45.00 32.61 44.51 31.22L44.66 31.37L44.53 31.24Q43.91 30.90 43.20 30.65L43.08 30.53L43.06 30.51Q42.84 29.58 42.73 29.01L42.79 29.07L42.72 29.00Q40.60 28.37 38.34 28.37L38.34 28.37L38.39 28.42Q37.60 28.45 36.78 28.53L36.63 28.37L36.76 28.51Q36.85 27.61 36.87 26.74L36.71 26.58L36.92 24.94L36.82 24.84Q38.07 24.73 39.34 24.75L39.46 24.87L39.49 24.90Q40.64 24.77 41.92 24.88L42.07 25.03L42.00 24.96Q41.91 24.24 41.91 23.56L41.87 23.53L41.98 22.28L41.33 22.25L41.38 22.30Q41.06 22.33 40.73 22.33L40.67 22.27L40.82 22.42Q40.81 21.93 40.92 21.00L40.80 20.88L40.86 20.94Q39.78 21.16 38.94 21.19L38.89 21.15L38.97 21.22Q38.12 21.05 36.81 21.00L36.92 21.10L37.00 21.18Q36.85 20.09 36.72 18.08L36.70 18.06L36.79 18.15Q37.41 18.12 38.12 18.12L38.24 18.24L38.19 18.18Q41.48 18.10 44.11 16.74L44.19 16.82L44.09 16.72Q44.54 15.07 45.16 13.49L45.25 13.59L45.24 13.57Q44.23 14.11 43.63 14.36L43.59 14.32L43.74 14.46Q43.93 13.89 44.25 12.78L44.13 12.65L44.10 12.62Q40.81 14.18 37.33 13.96L37.32 13.95L37.39 14.02Q33.54 13.72 30.79 11.68L30.94 11.83L30.93 11.83Q32.89 16.70 33.11 22.14L33.22 22.25L33.05 22.08Q33.47 27.94 31.68 32.78Z\"/><path fill=\"#3e413d\" d=\"M63.07 18.79L62.96 18.68L63.15 18.87Q61.77 15.81 57.34 15.94L57.35 15.95L57.44 16.04Q54.31 16.15 52.89 17.18L52.82 17.10L52.87 17.16Q51.20 18.45 51.20 21.39L51.13 21.32L51.08 22.60L51.21 22.73Q51.09 28.92 57.53 28.92L57.58 28.96L57.60 28.99Q59.05 28.97 60.11 28.40L60.12 28.40L60.06 28.34Q61.42 27.67 61.31 26.34L61.20 26.22L61.34 26.36Q61.17 24.83 58.53 24.18L58.59 24.23L57.11 24.14L57.19 24.23Q56.48 24.20 55.80 24.22L55.81 24.23L55.67 24.09Q55.79 23.53 55.76 22.17L55.77 22.18L55.69 22.10Q61.28 22.23 64.28 21.98L64.18 21.89L64.28 21.99Q64.20 22.53 64.20 23.10L64.26 23.17L64.26 23.17Q64.16 23.64 64.19 24.21L64.28 24.30L64.20 24.21Q63.42 24.23 63.42 24.23L63.50 24.31L63.40 24.21Q62.41 24.19 62.68 24.19L62.71 24.22L62.62 24.14Q63.40 25.29 63.67 26.70L63.67 26.70L63.70 26.74Q63.79 27.26 63.79 27.58L63.76 27.55L63.91 27.71Q63.75 30.86 57.47 30.86L57.45 30.84L57.59 30.99Q52.47 30.95 50.62 29.45L50.59 29.43L50.55 29.38Q49.13 27.69 49.13 24.08L49.23 24.17L49.21 24.16Q49.11 23.30 49.00 21.36L49.06 21.42L49.12 21.48Q49.02 19.80 49.05 18.82L48.94 18.71L48.96 18.74Q49.07 16.73 50.05 15.59L50.04 15.58L49.98 15.51Q51.84 14.08 55.32 13.95L55.30 13.93L57.23 13.91L57.17 13.84Q59.49 13.88 61.94 14.18L61.86 14.10L61.98 14.22Q64.60 14.51 65.28 16.82L65.26 16.80L65.23 16.76Q64.49 17.41 62.99 18.71ZM63.98 20.27L64.20 20.41L64.14 20.35Q65.02 19.60 66.36 18.19L66.42 18.25L66.28 18.11Q66.04 17.41 65.33 16.18L65.35 16.20L65.43 16.28Q64.62 14.41 61.90 13.95L61.81 13.86L61.87 13.92Q60.25 13.75 57.18 13.53L57.24 13.58L55.37 13.73L55.41 13.76Q51.55 13.74 49.70 15.16L49.84 15.29L49.81 15.26Q48.80 16.40 48.72 18.60L48.74 18.63L48.77 18.66Q48.78 18.34 48.94 22.26L48.90 22.21L48.93 22.24Q48.94 23.21 49.00 25.17L49.01 25.18L48.89 25.06Q49.17 28.38 50.42 29.77L50.29 29.64L50.26 29.62Q50.61 30.28 51.23 30.91L51.33 31.00L51.22 30.89Q53.24 32.19 57.19 32.43L57.32 32.57L59.28 32.59L59.28 32.59Q60.42 32.67 61.86 32.59L61.97 32.71L61.82 32.55Q62.89 32.54 64.39 32.16L64.52 32.29L64.46 32.23Q65.82 31.85 65.79 30.19L65.77 30.16L65.89 30.29Q65.77 29.27 65.01 27.29L65.00 27.28L65.04 27.31Q64.88 26.72 64.50 26.15L64.48 26.13L64.44 26.09Q64.97 26.21 65.81 26.34L65.77 26.30L65.64 26.17Q65.56 23.73 65.58 23.24L65.53 23.18L65.45 23.10Q65.31 23.23 65.01 23.21L64.89 23.09L65.01 23.21Q64.76 23.20 64.48 23.25L64.51 23.28L64.50 23.26Q64.51 22.49 64.57 21.73L64.38 21.54L64.49 21.65Q59.98 21.98 55.49 21.90L55.51 21.92L55.59 22.00Q55.55 22.58 55.55 23.23L55.45 23.14L55.48 24.42L55.54 24.48Q55.79 24.45 56.08 24.42L56.09 24.43L56.20 24.54Q56.47 24.51 56.80 24.51L56.75 24.47L56.67 24.38Q56.66 24.70 56.69 25.05L56.74 25.10L56.83 25.19Q56.74 25.43 56.71 25.78L56.70 25.77L56.67 25.74Q57.41 25.73 58.15 25.70L58.30 25.85L58.26 25.81Q58.92 25.73 59.65 25.76L59.76 25.87L59.66 25.77Q60.43 25.97 61.06 26.24L61.06 26.25L61.13 26.34L61.11 26.32Q61.08 27.27 59.89 27.93L59.89 27.93L59.97 28.01Q58.76 28.64 57.53 28.64L57.65 28.76L57.56 28.67Q54.87 28.73 53.13 27.48L53.07 27.42L53.06 27.41Q52.38 25.97 52.49 24.15L52.51 24.16L52.51 24.17Q52.66 20.67 53.98 19.25L53.97 19.24L53.95 19.21Q55.45 17.97 58.80 17.75L58.74 17.69L58.79 17.75Q61.28 17.47 62.67 18.75L62.74 18.82L62.80 18.87Q62.84 18.94 62.92 19.07L62.84 19.00L62.94 19.02L62.92 18.99Q63.36 19.52 63.77 20.31L63.69 20.23L63.96 20.25Z\"/><path fill=\"#60687f\" d=\"M73.96 30.95L74.04 31.03L73.98 30.97Q72.90 30.95 71.78 30.65L71.94 30.81L71.84 30.71Q70.89 29.97 70.78 28.80L70.86 28.88L70.88 28.91Q70.92 28.84 71.06 26.96L70.91 26.81L71.06 26.96Q71.68 26.72 73.13 26.45L73.20 26.52L72.98 26.98L73.06 27.05Q72.85 28.29 73.86 28.70L73.75 28.59L73.84 28.68Q74.36 28.87 75.85 28.87L75.98 29.00L75.86 28.88Q77.10 28.87 77.24 28.82L77.22 28.80L77.15 28.73Q77.82 28.64 78.34 28.29L78.43 28.38L78.29 28.24Q79.38 27.64 79.24 26.15L79.20 26.10L79.31 26.21Q78.99 24.29 77.75 23.17L77.76 23.18L77.78 23.20Q76.58 22.12 74.81 22.12L74.85 22.16L74.78 21.92L74.78 21.93Q75.14 21.99 75.77 21.93L75.73 21.90L75.83 22.00Q77.07 21.80 78.05 20.91L78.13 20.99L78.09 20.95Q79.04 20.04 79.15 18.71L79.07 18.63L79.21 18.77Q79.25 18.51 79.25 18.27L79.29 18.30L79.23 18.25Q79.29 17.22 78.31 16.57L78.18 16.43L78.21 16.47Q77.42 15.97 76.27 16.05L76.25 16.03L76.14 15.92Q75.33 15.93 74.46 16.23L74.53 16.29L74.41 16.17Q73.49 16.67 73.27 17.48L73.12 17.33L73.11 17.32Q73.10 17.99 73.16 18.54L73.17 18.54L73.11 18.49Q72.37 18.32 70.91 17.81L70.85 17.75L70.90 17.80Q70.72 16.59 70.74 15.99L70.85 16.10L70.75 16.00Q70.88 14.96 71.64 14.47L71.61 14.43L71.61 14.43Q72.63 14.01 73.77 14.01L73.83 14.07L73.69 13.93Q75.92 13.88 78.18 14.07L78.21 14.10L78.21 14.10Q81.87 14.44 81.65 17.14L81.71 17.20L81.74 17.22Q81.54 18.14 81.19 19.26L81.26 19.32L81.19 19.26Q80.59 21.51 78.90 22.16L78.91 22.16L78.99 22.25Q80.86 22.62 81.29 25.01L81.32 25.04L81.22 24.95Q81.36 25.74 81.42 27.18L81.37 27.13L81.50 27.26Q81.47 30.31 78.18 30.63L78.33 30.78L78.17 30.62Q77.68 30.70 73.90 30.89ZM77.70 32.57L77.63 32.50L77.71 32.58Q78.09 32.55 80.13 32.60L80.27 32.74L80.08 32.56Q81.39 32.67 82.56 32.21L82.52 32.17L82.66 32.31Q83.34 31.47 83.21 30.22L83.29 30.30L83.35 30.36Q83.28 29.42 83.06 28.17L82.99 28.10L82.96 28.07Q82.46 24.87 81.07 23.70L81.01 23.64L80.97 23.46L80.90 23.37L81.01 23.48Q82.25 22.43 82.79 19.31L82.79 19.31L82.73 19.25Q82.70 18.86 82.78 18.18L82.74 18.14L82.74 18.14Q82.92 17.72 82.86 17.23L82.83 17.20L82.85 17.22Q82.72 16.00 81.80 15.51L81.77 15.49L81.68 15.44L81.67 15.44Q81.45 14.73 80.64 14.35L80.75 14.47L80.74 14.45Q79.61 13.92 75.93 13.70L75.86 13.63L75.87 13.64Q74.72 13.63 73.58 13.63L73.60 13.65L73.67 13.72Q72.49 13.68 71.40 14.15L71.42 14.16L71.29 14.03Q70.52 14.67 70.52 15.92L70.57 15.98L70.42 15.83Q70.58 15.69 70.77 18.08L70.63 17.94L70.65 17.96Q70.93 18.08 72.10 18.51L72.16 18.57L72.08 18.49Q72.06 18.85 72.03 19.20L72.02 19.19L72.16 19.34Q72.11 19.64 72.14 20.02L72.08 19.96L72.18 20.06Q73.32 20.20 74.77 20.28L74.80 20.32L74.90 20.41Q74.85 18.98 75.64 18.38L75.64 18.39L75.60 18.35Q76.09 17.77 77.53 17.61L77.64 17.72L77.65 17.73Q78.32 17.59 78.73 17.72L78.79 17.78L78.87 17.86Q78.83 17.87 78.86 17.96L78.86 17.96L78.90 18.13L78.90 18.46L78.85 18.41Q78.91 18.60 78.88 18.71L78.96 18.79L78.87 18.70Q78.76 19.88 77.68 20.72L77.68 20.72L77.82 20.86Q77.12 21.46 75.68 21.60L75.58 21.51L75.60 21.53Q75.26 21.80 74.63 21.80L74.49 21.67L74.62 21.79Q74.66 22.06 74.77 22.55L74.61 22.39L74.65 22.42Q75.92 22.45 76.96 22.96L76.87 22.88L76.91 22.99L75.85 23.19L75.70 23.04Q75.87 23.43 75.95 23.86L75.83 23.74L75.94 23.84Q77.40 23.73 78.62 24.68L78.64 24.70L78.58 24.64Q78.72 24.88 78.93 26.05L78.96 26.08L79.05 26.17Q79.13 28.21 77.04 28.51L77.01 28.48L76.96 28.43Q75.45 28.61 75.04 28.58L75.19 28.73L75.06 28.59Q74.81 28.60 74.43 28.54L74.42 28.53L74.48 28.26L74.61 27.98L74.58 27.66L74.59 27.42L74.58 27.41Q73.86 27.42 73.29 27.56L73.27 27.55L73.28 27.55Q73.36 27.50 73.36 27.36L73.27 27.27L73.37 27.37Q73.22 27.06 73.22 26.90L73.23 26.90L73.39 27.07Q73.36 26.71 73.47 26.19L73.45 26.17L73.39 26.11Q72.16 26.37 70.82 26.62L70.87 26.66L70.75 26.55Q70.80 26.95 70.72 27.75L70.79 27.82L70.74 27.78Q70.62 28.54 70.62 28.97L70.61 28.96L70.59 28.95Q70.77 30.53 71.75 31.08L71.72 31.05L71.72 31.05Q72.72 32.62 76.09 32.48L76.15 32.55L76.13 32.53Q76.66 32.51 77.74 32.61Z\"/><path fill=\"#525651\" d=\"M25.20 18.69L25.06 18.55L25.02 18.52Q23.80 20.53 21.89 24.55L21.84 24.49L20.57 27.69L20.59 27.71Q19.96 29.06 19.00 30.66L18.93 30.59L18.85 30.50Q19.31 30.65 18.12 30.67L18.01 30.56L18.09 30.64Q18.04 30.59 17.14 30.59L17.15 30.61L17.09 30.54Q16.60 29.51 14.51 24.40L14.49 24.38L14.46 24.35Q12.90 20.50 11.40 18.36L11.54 18.49L11.46 18.42Q12.05 20.67 12.05 22.92L12.08 22.94L12.11 22.98Q12.04 27.56 9.92 31.53L9.98 31.59L9.98 31.59Q8.94 31.75 7.26 32.27L7.36 32.36L7.20 32.21Q10.00 28.32 10.00 23.15L9.89 23.05L9.96 23.11Q9.87 16.64 6.01 11.66L6.02 11.67L6.11 11.76Q7.28 12.28 8.97 12.76L8.88 12.68L8.98 12.78Q13.99 17.57 18.34 27.09L18.28 27.03L18.27 27.02Q20.85 22.09 22.43 19.59L22.43 19.59L22.37 19.54Q25.00 15.47 27.83 13.00L27.73 12.90L27.79 12.96Q28.71 12.82 30.39 12.28L30.35 12.23L30.32 12.20Q26.83 17.00 26.83 23.15L26.69 23.01L26.75 23.07Q26.86 27.94 29.30 31.88L29.14 31.72L29.23 31.81Q28.22 31.53 26.26 31.09L26.37 31.21L26.24 31.08Q24.60 27.69 24.60 23.42L24.63 23.45L24.71 23.54Q24.64 21.02 25.13 18.62ZM26.11 31.35L26.16 31.40L26.17 31.41Q26.67 31.50 27.70 31.69L27.80 31.79L27.67 31.66Q27.96 32.17 28.64 33.23L28.68 33.26L28.78 33.37Q30.32 33.68 32.79 34.55L32.71 34.47L32.80 34.56Q28.27 29.97 28.27 22.96L28.18 22.87L28.27 22.96Q28.13 17.30 31.26 12.92L31.36 13.03L29.76 13.50L29.86 13.59Q30.48 12.39 30.94 11.77L31.05 11.87L30.98 11.80Q29.58 12.20 27.71 12.58L27.78 12.65L27.69 12.56Q22.92 16.98 18.59 25.98L18.55 25.94L18.67 26.06Q14.96 18.22 11.43 14.46L11.39 14.42L11.31 14.35Q11.13 14.38 10.72 14.30L10.74 14.32L9.80 13.33L9.82 13.35Q9.35 12.83 8.86 12.39L8.89 12.42L8.87 12.40Q6.75 11.74 5.47 11.23L5.47 11.23L5.49 11.25Q9.66 16.28 9.66 23.00L9.81 23.16L9.78 23.13Q9.65 28.44 6.69 32.62L6.83 32.77L6.86 32.79Q7.29 32.57 8.21 32.27L8.19 32.24L8.28 32.33Q8.07 32.40 7.06 33.89L7.19 34.02L7.09 33.92Q8.36 33.56 10.86 33.01L10.89 33.05L10.97 33.12Q13.53 27.99 13.40 22.44L13.47 22.52L13.49 22.54Q14.46 25.27 16.93 30.90L17.03 31.00L17.05 31.02Q17.22 30.97 17.38 30.97L17.35 30.94L17.68 30.88L17.69 30.90Q18.07 31.44 18.64 32.36L18.64 32.36L18.63 32.36Q19.64 32.20 19.64 32.20L19.75 32.30L19.75 32.30Q20.46 32.28 20.92 32.33L20.97 32.38L20.92 32.33Q21.95 29.37 24.34 23.65L24.33 23.64L24.51 23.83Q24.38 27.66 26.22 31.47Z\"/><path d=\"M15 16 C39 38,42 15,89 19\" stroke=\"#efd689\" fill=\"none\"/></svg>"
        }
      }
      ```

### 短信验证码

- 请求接口: http://localhost:4000/api/sendcode

- 请求方式: get

- 请求参数:

    | 字段  | 描述   | 类型   | 选项 |
    | ----- | ------ | ------ | ---- |
    | phone | 手机号 | string | 必须 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": "754768"
        }
        ```

### 修改用户信息

- 请求接口: http://localhost:4000/api/user/edit

- 请求方式: post

- 请求参数:

    | 字段  | 描述   | 类型   | 选项 |
    | ----- | ------ | ------ | ---- |
    | phone | 手机号 | string | 必须 |
    | _id   | 用户id | string | 必须 |
    | userName         | 用户名       | string | 可选 |
    | password         | 密码         | string | 可选 |
    | avatar_url       | 用户头像url  | string | 可选 |
    | shipping_address | 用户收获地址 | string | 可选 |

- 返回示例:

        ```
        {
          "status": 200
        }
        ```

## 权限管理模块

### 添加角色

- 请求接口: http://localhost:4000/api/roles/add

- 请求方式: post

- 请求参数:

    | 字段  | 描述   | 类型   | 选项 |
    | ----- | ------ | ----- | ---- |
    | roleName | 角色名称 | string | 必须 |
    | creator | 角色创建人 | string | 必须 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": {
            "creationTime": "2020-10-01",
            "_id": "5f75c074f7446057e4ae33b1",
            "roleName": "商家管理员",
            "creator": "admin",
            "__v": 0
          }
        }
        ```

### 删除角色

- 请求接口: http://localhost:4000/api/roles/del

- 请求方式: post

- 请求参数:

    | 字段  | 描述   | 类型   | 选项 |
    | ----- | ------- | ----- | ---- |
    | _id   | 角色id | string | 必须 |

- 返回示例:

      ```
      {
        "status": 200
      }
      ```

### 更新角色信息

- 请求接口: http://localhost:4000/api/roles/edit

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项  |
    | ----- | ----- | ----- | ----- |
    | _id  | 角色id | string | 必须 |
    | roleName | 角色名称 | string | 必须 |
    | editor | 编辑人 | string | 必须 |

- 返回示例:

      ```
      {
        "status": 200,
        "data": {
          "creationTime": "2020-10-01",
          "_id": "5f75c074f7446057e4ae33b1",
          "roleName": "测试角色",
          "creator": "admin",
          "__v": 0,
          "editor": "admin",
          "editTime": "2020-10-01"
        }
      }
      ```

### 获取角色列表

- 请求接口: http://localhost:4000/api/roles

- 请求方式: get

- 请求参数: 无

- 返回示例:

      ```
      {
        "status": 200,
        "data": [
          {
            "creationTime": "2020-10-01",
            "_id": "5f75c074f7446057e4ae33b1",
            "roleName": "测试角色",
            "creator": "admin",
            "__v": 0,
            "editTime": "2020-10-01",
            "editor": "admin"
          }
        ]
      }
      ```

## 商家模块

### 获取商家列表

- 请求接口: http://localhost:4000/api/shop/list

- 请求方式: get

- 请求参数: 无

- 返回示例:

        ```
        {
          "status": 200,
          "data": [
            {
              "serTime": [
                "00:00-02:30",
                "10:00-23:59"
              ],
              "shopCate": [
                {
                  "cateId": "5f75c6f400750454589c86fb",
                  "subId": [
                    "185098ad-173b-4249-b1ff-e49b0b62022e"
                  ]
                }
              ],
              "contact_way": [
                "07682306680",
                "13531555257"
              ],
              "activity": [
                {
                  "info": "折扣商品0.07折起",
                  "icon": "",
                  "activityId": 1
                }
              ],
              "isSpe": false,
              "monthly_sales": 0,
              "shopStatus": 0,
              "auditStatus": 0,
              "isBrand": false,
              "score": 0,
              "_id": "5f75da0b9624b65188370be9",
              "shopName": "华莱士·全鸡汉堡(枫溪店)",
              "shopLocation": {
                "lat": 23655217,
                "lng": 116603303
              },
              "shopAddress": "潮州市枫溪区瓷兴路枫溪商场一幢4-5号铺",
              "openingHours": "00:00-01:00,09:30-23:59",
              "minFee": 20,
              "shopImg": "http://localhost:4000/images/adf54.jpg",
              "disPic": 4,
              "announcement": "华莱士全鸡汉堡,全国门店一万家|全鸡配汉堡,华莱士吃好！",
              "__v": 0
            }
          ]
        }
        ```

### 根据id获取对应商家信息

- 请求接口: http://localhost:4000/api/shop

- 请求方式: get

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | _id  | 商家id | string | 必须 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": {
            "serTime": [
              "00:00-02:30",
              "10:00-23:59"
            ],
            "shopCate": [
              {
                "cateId": "5f75c6f400750454589c86fb",
                "subId": [
                  "185098ad-173b-4249-b1ff-e49b0b62022e"
                ]
              }
            ],
            "contact_way": [
              "07682306680",
              "13531555257"
            ],
            "activity": [
              {
                "info": "折扣商品0.07折起",
                "icon": "",
                "activityId": 1
              }
            ],
            "isSpe": false,
            "monthly_sales": 0,
            "shopStatus": 0,
            "auditStatus": 0,
            "isBrand": false,
            "score": 0,
            "_id": "5f75da0b9624b65188370be9",
            "shopName": "华莱士·全鸡汉堡(枫溪店)",
            "shopLocation": {
              "lat": 23655217,
              "lng": 116603303
            },
            "shopAddress": "潮州市枫溪区瓷兴路枫溪商场一幢4-5号铺",
            "openingHours": "00:00-01:00,09:30-23:59",
            "minFee": 20,
            "shopImg": "http://localhost:4000/images/adf54.jpg",
            "disPic": 4,
            "announcement": "华莱士全鸡汉堡,全国门店一万家|全鸡配汉堡,华莱士吃好！",
            "__v": 0
          }
        }
        ```

### 新增商家

- 请求接口: http://localhost:4000/api/shop/add

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopName | 商家名称 | string | 必须 |
    | shopLocation | 商家地理坐标 | Object | 必须 |
    | shopAddress | 商家地址 | string | 必须 |
    | openingHours | 商家营业时间 | string | 必须 |
    | serTime | 配送时间段 | string或Array | 必须 |
    | minFee | 商家起送价 | number | 必须 |
    | shopCate | 商家所属分类 | Object或Array | 必须 |
    | contact_way | 商家联系方式 | Array 或 string | 必须 |
    | shopImg | 商家展示图片url | string | 可选 |
    | disPic | 配送价 | number | 可选 |
    | activity | 商家活动 | Array | 可选 |
    | announcement | 商家公告 | string | 可选 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": {
            "serTime": [
              "00:00-02:30",
              "10:00-23:59"
            ],
            "shopCate": [
              {
                "cateId": "5f75c6f400750454589c86fb",
                "subId": [
                  "185098ad-173b-4249-b1ff-e49b0b62022e"
                ]
              }
            ],
            "contact_way": [
              "07682306680",
              "13531555257"
            ],
            "activity": [
              {
                "info": "折扣商品0.07折起",
                "icon": "",
                "activityId": 1
              }
            ],
            "isSpe": false,
            "monthly_sales": 0,
            "shopStatus": 0,
            "auditStatus": 0,
            "isBrand": false,
            "score": 0,
            "_id": "5f75da0b9624b65188370be9",
            "shopName": "华莱士·全鸡汉堡(枫溪店)",
            "shopLocation": {
              "lat": 23655217,
              "lng": 116603303
            },
            "shopAddress": "潮州市枫溪区瓷兴路枫溪商场一幢4-5号铺",
            "openingHours": "00:00-01:00,09:30-23:59",
            "minFee": 20,
            "shopImg": "http://localhost:4000/images/adf54.jpg",
            "disPic": 4,
            "announcement": "华莱士全鸡汉堡,全国门店一万家|全鸡配汉堡,华莱士吃好！",
            "__v": 0
          }
        }
        ```

### 编辑商家信息

- 请求接口: http://localhost:4000/api/shop/edit

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | _id | 商家id | string | 必须 |
    | shopName | 商家名称 | string | 必须 |
    | shopLocation | 商家地理坐标 | Object | 必须 |
    | shopAddress | 商家地址 | string | 必须 |
    | openingHours | 商家营业时间 | string | 必须 |
    | serTime | 配送时间段 | string或Array | 必须 |
    | minFee | 商家起送价 | number | 必须 |
    | shopCate | 商家所属分类 | Object或Array | 必须 |
    | contact_way | 商家联系方式 | Array 或 string | 必须 |
    | shopImg | 商家展示图片url | string | 可选 |
    | disPic | 配送价 | number | 可选 |
    | activity | 商家活动 | Array | 可选 |
    | announcement | 商家公告 | string | 可选 |
    | score | 商家评分星级 | number | 可选 |
    | isBrand | 商家是否为品牌用户 | boolean | 可选 |
    | isSpe | 是否为美团专送 | boolean | 可选 |
    | shopStatus | 商家状态 | number | 可选 |
    | monthly_sales | 商家月销量 | number | 可选 |
    | auditStatus | 商家审核状态 | number | 可选 |

- 返回示例:

        ```
        {
            "status": 200,
            "data": {
                "serTime": [
                    "00:00-02:30",
                    "10:00-23:59"
                ],
                "shopCate": [
                    {
                        "cateId": "5f75c6f400750454589c86fb",
                        "subId": [
                            "185098ad-173b-4249-b1ff-e49b0b62022e"
                        ]
                    }
                ],
                "contact_way": [
                    "07682306680",
                    "13531555257"
                ],
                "activity": [
                    {
                        "info": "折扣商品0.07折起",
                        "icon": "",
                        "activityId": 1
                    }
                ],
                "isSpe": true,
                "monthly_sales": 3781,
                "shopStatus": 1,
                "auditStatus": 1,
                "isBrand": true,
                "score": 4.5,
                "_id": "5f75da0b9624b65188370be9",
                "shopName": "华莱士·全鸡汉堡(枫溪店)",
                "shopLocation": {
                    "lat": 23655217,
                    "lng": 116603303
                },
                "shopAddress": "潮州市枫溪区瓷兴路枫溪商场一幢4-5号铺",
                "openingHours": "00:00-01:00,09:30-23:59",
                "minFee": 30,
                "shopImg": "http://localhost:4000/images/adf54.jpg",
                "disPic": 6,
                "announcement": "华莱士全鸡汉堡,全国门店一万家|全鸡配汉堡,华莱士吃好！",
                "__v": 0
            }
        }
        ```

### 删除商家

- 请求接口: http://localhost:4000/api/shop/del

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | _id  | 商家id | string | 必须 |

- 返回示例:

      ```
      {
        "status": 200
      }
      ```

## 用户订单模块

### 获取用户订单列表

- 请求接口: http://localhost:4000/api/user/order/list

- 请求方式: get

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | userId | 用户id | string | 必须 |

- 返回示例:

      ```
      {
        "status": 200,
        "data": [
          {
            "orderId": "617562de-91df-4af8-ae60-493a450290ff",
            "shopId": "5f75e9e06e10fc0c2ce0fe38",
            "shopImg": "http://localhost:4000/images/adf54.jpg",
            "shopName": "华莱士·全鸡汉堡(枫溪店)",
            "create_time": "2020-10-01 11:43:59",
            "status": 1,
            "goods": [
              {
                "goodsId": "2ebba82f-108f-425e-87a4-eee92579b2a0",
                "name": "香辣鸡腿堡W",
                "count": 1
              },
              {
                "goodsId": "52e90805-bc7c-470b-83a7-d4d3d5df22ef",
                "name": "充电饱套餐",
                "count": 1
              },
              {
                "goodsId": "c6c7ab7f-5d59-4633-bd34-45edf0be52fa",
                "name": "香辣鸡翅",
                "count": 1
              }
            ],
            "price": 28
          }
        ]
      }
      ```

### 新增订单

- 请求接口: http://localhost:4000/api/user/order/add

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | userId | 用户id | string | 必须 |
    | order | 订单信息 | Object | 必须 |
    **订单信息必须包含以下字段**
    1. shopId: 商家id
    2. goods: 订单商品(商品名称与商品数量)
    3. price: 用户实付价格

- 返回示例:

      ```
      {
        "status": 200,
        "data": [
          {
            "orderId": "617562de-91df-4af8-ae60-493a450290ff",
            "shopId": "5f75e9e06e10fc0c2ce0fe38",
            "shopImg": "http://localhost:4000/images/adf54.jpg",
            "shopName": "华莱士·全鸡汉堡(枫溪店)",
            "create_time": "2020-10-01 11:43:59",
            "status": 0,
            "goods": [
              {
                "goodsId": "2ebba82f-108f-425e-87a4-eee92579b2a0",
                "name": "香辣鸡腿堡W",
                "count": 1
              },
              {
                "goodsId": "52e90805-bc7c-470b-83a7-d4d3d5df22ef",
                "name": "充电饱套餐",
                "count": 1
              },
              {
                "goodsId": "c6c7ab7f-5d59-4633-bd34-45edf0be52fa",
                "name": "香辣鸡翅",
                "count": 1
              }
            ],
            "price": 28
          }
        ]
      }
      ```

### 删除订单

- 请求接口: http://localhost:4000/api/user/order/del

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | userId | 用户id | string | 必须 |
    | orderId | 订单id | string | 必须 |

- 返回示例:

      ```
      {
        "status": 200,
        "data": []
      }
      ```

### 修改订单状态

- 请求接口: http://localhost:4000/api/user/order/edit

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | userId | 用户id | string | 必须 |
    | orderId | 订单id | string | 必须 |
    | status | 订单状态 | number | 必须 |
    **只允许更改订单状态,其余字段依旧**

- 返回示例:

      ```
      {
        "status": 200,
        "data": [
          {
            "orderId": "617562de-91df-4af8-ae60-493a450290ff",
            "shopId": "5f75e9e06e10fc0c2ce0fe38",
            "shopImg": "http://localhost:4000/images/adf54.jpg",
            "shopName": "华莱士·全鸡汉堡(枫溪店)",
            "create_time": "2020-10-01 11:43:59",
            "status": 1,
            "goods": [
              {
                "goodsId": "2ebba82f-108f-425e-87a4-eee92579b2a0",
                "name": "香辣鸡腿堡W",
                "count": 1
              },
              {
                "goodsId": "52e90805-bc7c-470b-83a7-d4d3d5df22ef",
                "name": "充电饱套餐",
                "count": 1
              },
              {
                "goodsId": "c6c7ab7f-5d59-4633-bd34-45edf0be52fa",
                "name": "香辣鸡翅",
                "count": 1
              }
            ],
            "price": 28
          }
        ]
      }
      ```

## 商品模块

### 获取指定商品信息

- 请求接口: http://localhost:4000/api/shop/goods

- 请求方式: get

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | goodsId | 商品id | string | 必须 |

- 返回示例:

      ```
      {
          "status": 200,
          "data": {
              "cateId": "70364f8b-ef97-48e8-ad1f-1550728449fd",
              "goodsId": "530f54a7-78f9-416b-83ba-36888de237bf",
              "imgUrlBig": "http://localhost:4000/images/1073e.jpg",
              "imgUrlSmall": "http://localhost:4000/images/1073e.jpg",
              "name": "充电饱套餐",
              "desc": "",
              "originalPice": 17.24,
              "discount": 9.8,
              "currentPice": 16.9,
              "deal": "1人份",
              "monthlySales": 9999,
              "like": 50,
              "tags": [],
              "status": 1,
              "count": 20
          }
      }
      ```

### 根据商家id获取对应商品列表

- 请求接口: http://localhost:4000/api/shop/goods/list

- 请求方式: get

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |

- 返回示例:

      ```
      {
          "status": 200,
          "data": {
              "goodsList": [
                  {
                      "cateId": "70364f8b-ef97-48e8-ad1f-1550728449fd",
                      "goodsId": "530f54a7-78f9-416b-83ba-36888de237bf",
                      "imgUrlBig": "http://localhost:4000/images/1073e.jpg",
                      "imgUrlSmall": "http://localhost:4000/images/1073e.jpg",
                      "name": "充电饱套餐",
                      "desc": "",
                      "originalPice": 17.24,
                      "discount": 9.8,
                      "currentPice": 16.9,
                      "deal": "1人份",
                      "monthlySales": 9999,
                      "like": 50,
                      "tags": [],
                      "status": 1,
                      "count": 20
                  }
              ],
              "cates": [
                  {
                      "cateId": "08787981-dfac-4048-b58f-8ba264eeeed3",
                      "cateName": "折扣",
                      "cateIcon": "http://localhost:4000/images/45662.png"
                  }
              ]
          }
      }
      ```

### 新增商品

- 请求接口: http://localhost:4000/api/shop/goods/add

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | goods | 商品信息对象 | Object | 必须 |

  - **goods对象必须包含以下字段**
    1. cateId: 所属商品分类id (类型 string)
    2. name: 商品名称 (类型 string)
    3. originalPice: 商品价格 (类型 number)
    4. deal: 价格对应的数量 (类型 string, 例如: /个)

  - **可选字段**
    1. ImgUrlBig: 商品大图片
    2. ImgUrlSmall: 商品小图片
    3. desc: 商品描述
    4. discount: 商品折扣
    5. count: 商品库存
    6. tags: 商品标签列表

- 返回示例:

      ```
      {
          "status": 200,
          "data": [
              {
                  "cateId": "70364f8b-ef97-48e8-ad1f-1550728449fd",
                  "goodsId": "530f54a7-78f9-416b-83ba-36888de237bf",
                  "imgUrlBig": "http://localhost:4000/images/1073e.jpg",
                  "imgUrlSmall": "http://localhost:4000/images/1073e.jpg",
                  "name": "充电饱套餐",
                  "desc": "",
                  "originalPice": 17.24,
                  "discount": 9.8,
                  "currentPice": 16.9,
                  "deal": "1人份",
                  "monthlySales": 0,
                  "like": 0,
                  "tags": [],
                  "status": 0,
                  "count": 20
              }
          ]
      }
      ```

### 编辑商品

- 请求接口: http://localhost:4000/api/shop/goods/edit

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | goods | 商品信息对象 | Object | 必须 |

  - **goods对象必须包含以下字段**
    1. goodsId: 商品id (类型 string)
    2. cateId: 所属商品分类id (类型 string)
    3. name: 商品名称 (类型 string)
    4. originalPice: 商品价格 (类型 number)
    5. deal: 价格对应的数量 (类型 string, 例如: /个)

  - **可选字段**
    1. ImgUrlBig: 商品大图片
    2. ImgUrlSmall: 商品小图片
    3. desc: 商品描述
    4. discount: 商品折扣
    5. count: 商品库存
    6. tags: 商品标签列表
    7. monthlySales: 月销量
    8. like: 点赞量
    9. status: 商品状态

- 返回示例:

      ```
      {
          "status": 200,
          "data": [
              {
                  "cateId": "70364f8b-ef97-48e8-ad1f-1550728449fd",
                  "goodsId": "530f54a7-78f9-416b-83ba-36888de237bf",
                  "imgUrlBig": "http://localhost:4000/images/1073e.jpg",
                  "imgUrlSmall": "http://localhost:4000/images/1073e.jpg",
                  "name": "充电饱套餐",
                  "desc": "",
                  "originalPice": 17.24,
                  "discount": 9.8,
                  "currentPice": 16.9,
                  "deal": "1人份",
                  "monthlySales": 9999,
                  "like": 50,
                  "tags": [],
                  "status": 1,
                  "count": 20
              }
          ]
      }
      ```

### 删除商品

- 请求接口: http://localhost:4000/api/shop/goods/del

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | goodsId | 商品id | string | 必须 |

- 返回示例:

      ```
      {
          "status": 200,
          "data": []
      }
      ```

### 根据商家id获取商品分类列表

- 请求接口: http://localhost:4000/api/shop/cate/list

- 请求方式: get

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |

- 返回示例:

      ```
      {
          "status": 200,
          "data": [
              {
                  "cateId": "70364f8b-ef97-48e8-ad1f-1550728449fd",
                  "cateName": "折扣",
                  "cateIcon": "http://localhost:4000/images/45662.png"
              }
          ]
      }
      ```

### 新增商品分类

- 请求接口: http://localhost:4000/api/shop/cate/add

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | cateName | 分类名称 | string | 必须 |
    | icon | 分类小图标 | string | 可选 |

- 返回示例:

      ```
      {
          "status": 200,
          "data": [
              {
                  "cateId": "70364f8b-ef97-48e8-ad1f-1550728449fd",
                  "cateName": "折扣",
                  "cateIcon": "http://localhost:4000/images/45662.png"
              }
          ]
      }
      ```

### 编辑商品分类

- 请求接口: http://localhost:4000/api/shop/cate/edit

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | cateName | 分类名称 | string | 必须 |
    | icon | 分类小图标 | string | 可选 |

- 返回示例:

      ```
      {
        "status": 200,
        "data": [
            {
                "cateId": "69cc7fb3-fc67-4da3-b6e2-0ae257800509",
                "cateName": "热销",
                "cateIcon": "http://localhost:4000/images/87f96.png"
            },
            {
                "cateId": "70364f8b-ef97-48e8-ad1f-1550728449fd",
                "cateName": "折扣",
                "cateIcon": "http://localhost:4000/images/45662.png"
            }
        ]
      }
      ```

### 删除商品分类

- 请求接口: http://localhost:4000/api/shop/cate/del

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | cateId | 商品分类id | string | 必须 |

- 返回示例:

      ```
      {
          "status": 200,
          "data": [
              {
                  "cateId": "70364f8b-ef97-48e8-ad1f-1550728449fd",
                  "cateName": "折扣",
                  "cateIcon": "http://localhost:4000/images/45662.png"
              }
          ]
      }
      ```

## 评论模块

### 获取商家商品标签列表

- 请求接口: http://localhost:4000/api/shop/comment/labels

- 请求方式: get

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |

- 返回示例:

        ```
        
        ```

### 获取评论类型标签列表

- 请求接口: http://localhost:4000/api/shop/comment/types

- 请求方式: get

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |

- 返回示例:

        ```
        
        ```

### 新增评论类型标签

- 请求接口: http://localhost:4000/api/shop/comment/type/add

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | typeName | 类型名称 | string | 必须 |

- 返回示例:

        ```
        
        ```

### 编辑评论类型标签

- 请求接口: http://localhost:4000/api/shop/comment/type/edit

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | typeId | 评论类型id | string | 必须 |
    | typeName | 类型名称 | string | 必须 |
    | count | 评论数量 | number | 可选 |

- 返回示例:

        ```
        
        ```

### 删除评论类型标签

- 请求接口: http://localhost:4000/api/shop/comment/type/del

- 请求方式:

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | typeId | 类型id | string | 必须 |

- 返回示例:

        ```
        
        ```

### 获取评论详细信息

- 请求接口: http://localhost:4000/api/shop/comment/info

- 请求方式: get

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | commentId | 评论id | string | 必须 |

- 返回示例:

        ```
        
        ```

### 获取评论列表

- 请求接口: http://localhost:4000/api/shop/comment/list

- 请求方式:

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |

- 返回示例:

        ```
        
        ```

### 新增评论

- 请求接口: http://localhost:4000/api/shop/comment/add

- 请求方式:

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | comment | 评论信息对象 | Object | 必须 |
  
  - **comment对象必须包含以下字段**
  1. userId: 用户id
  2. content: 评论内容
  3. typeId: 评论类型 (前端可以设置一个默认值)
  4. arrive_time: 订单完成时间 (练习项目,没人送货,前端随便搞个时间)

  - **可选字段**
  1. goods_img: 评论的商品图片
  2. labels: 点赞评论的标签列表

- 返回示例:

        ```
        
        ```

### 编辑评论

- 请求接口: http://localhost:4000/api/shop/comment/edit

- 请求方式:

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | shopId | 商家id | string | 必须 |
    | commentId | 评论id | string | 必须 |
    | shop_reply | 商家回复内容 | string | 必须 |

- 返回示例:

        ```
        
        ```

## 分类模块

### 获取主分类列表

- 请求接口: http://localhost:4000/api/cates

- 请求方式: get

- 请求参数: 无

- 返回示例:

        ```
        {
          "status": 200,
          "data": [
            {
              "subList": [],
              "icon": "http://localhost:4000/images/8b5e1.png",
              "_id": "5f75c3cbf7d5c53d64972bda",
              "cateName": "美食",
              "__v": 0
            }
          ]
        }
        ```

### 新增主分类

- 请求接口: http://localhost:4000/api/cate/add

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | cateName | 主分类名称 | string | 必须 |
    | icon | 主分类icon图标 | string | 可选 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": {
            "subList": [],
            "icon": "http://localhost:4000/images/8b5e1.png",
            "_id": "5f75c3cbf7d5c53d64972bda",
            "cateName": "美食",
            "__v": 0
          }
        }
        ```

### 编辑主分类

- 请求接口: http://localhost:4000/api/cate/edit

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | _id | 分类id | string | 必须 |
    | cateName | 分类名称 | string | 必须 |
    | icon | 分类icon小图标 | string | 可选 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": {
            "subList": [],
            "icon": "http://localhost:4000/images/8b5e1.png",
            "_id": "5f75c3cbf7d5c53d64972bda",
            "cateName": "测试分类",
            "__v": 0
          }
        }
        ```

### 删除主分类

- 请求接口: http://localhost:4000/api/cate/del

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | _id | 分类id | string | 必须 |

- 返回示例:

        ```
        {
          "status": 200
        }
        ```

### 根据主分类获取对应的子分类列表

- 请求接口: http://localhost:4000/api/cate/sub/list

- 请求方式: get

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | _id | 主分类id | string | 必须 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": [
            {
                "subName": "新增子分类测试",
                "subId": "185098ad-173b-4249-b1ff-e49b0b62022e"
            },
            {
                "subName": "子分类",
                "subId": "9bc3321a-74ca-4563-b4f7-e709abbd87c6"
            }
          ]
        }
        ```

### 新增子分类

- 请求接口: http://localhost:4000/api/cate/sub/add

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | _id | 主分类id | string | 必须 |
    | subName | 子分类名称 | string | 必须 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": [
            {
                "subName": "新增子分类测试",
                "subId": "185098ad-173b-4249-b1ff-e49b0b62022e"
            },
            {
                "subName": "子分类",
                "subId": "9bc3321a-74ca-4563-b4f7-e709abbd87c6"
            }
          ]
        }
        ```

### 编辑子分类

- 请求接口: http://localhost:4000/api/cate/sub/edit

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | _id | 主分类id | string | 必须 |
    | subId | 子分类id | string | 必须 |
    | subName | 子分类名称 | string | 必须 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": [
            {
                "subName": "新增子分类测试",
                "subId": "185098ad-173b-4249-b1ff-e49b0b62022e"
            },
            {
                "subName": "编辑子分类测试",
                "subId": "9bc3321a-74ca-4563-b4f7-e709abbd87c6"
            }
          ]
        }
        ```

### 删除子分类

- 请求接口: http://localhost:4000/api/cate/sub/del

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | _id | 主分类id | string | 必须 |
    | subId | 子分类id | string | 必须 |

- 返回示例:

        ```
        {
          "status": 200,
          "data": [
              {
                  "subName": "新增子分类测试",
                  "subId": "185098ad-173b-4249-b1ff-e49b0b62022e"
              }
          ]
        }
        ```

## 城市信息模块

### 获取城市信息列表

- 请求接口: http://localhost:4000/api/citys

- 请求方式: get

- 请求参数: 无

- 返回示例:

      ```
    
      ```

## 图片上传模块

### 上传图片

- 请求接口: http://localhost:4000/api/img/upload

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | file | 要上传的图片 | file | 必须 |

- 返回示例:

      ```
        
      ```

### 删除图片

- 请求接口: http://localhost:4000/api/img/del

- 请求方式: post

- 请求参数:

    | 字段  | 描述  | 类型  | 选项 |
    | ----- | ----- | ---- | ---- |
    | filename | 图片名称 | string | 必须 |

- 返回示例:

      ```
        
      ```
